{
  "id": "85bba4ac-7fe8-4694-aa8c-6cd6c9d4423c",
  "revision": 0,
  "last_node_id": 478,
  "last_link_id": 940,
  "nodes": [
    {
      "id": 225,
      "type": "VAELoader",
      "pos": [
        -2274.667724609375,
        1057.910888671875
      ],
      "size": [
        413.5277404785156,
        58
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            698
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "VAELoader",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan_2.1_vae.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 224,
      "type": "CLIPLoader",
      "pos": [
        -2276.70703125,
        907.7907104492188
      ],
      "size": [
        411.814208984375,
        106
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "slot_index": 0,
          "links": [
            697
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "CLIPLoader",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
        "wan",
        "default"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 319,
      "type": "SetNode",
      "pos": [
        -1846.9595947265625,
        997.2738037109375
      ],
      "size": [
        210.13229370117188,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "link": 697
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_CLIP",
      "properties": {
        "previousName": "CLIP",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CLIP"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 317,
      "type": "CLIPVisionLoader",
      "pos": [
        -2275.551513671875,
        800.8566284179688
      ],
      "size": [
        408.14801025390625,
        63.543880462646484
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            696
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "CLIPVisionLoader",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "clip_vision_h.safetensors"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 322,
      "type": "SetNode",
      "pos": [
        -1845.2998046875,
        864.562744140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "link": 696
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_clip_vision",
      "properties": {
        "previousName": "clip_vision",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "clip_vision"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 321,
      "type": "SetNode",
      "pos": [
        -1844.9637451171875,
        1100.923583984375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "link": 698
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_VAE",
      "properties": {
        "previousName": "VAE",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 226,
      "type": "UNETLoader",
      "pos": [
        -2264.872802734375,
        383.5198059082031
      ],
      "size": [
        417.8115539550781,
        82
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            693
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "UNETLoader",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan2.2_animate_14B_bf16.safetensors",
        "default"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 374,
      "type": "GetNode",
      "pos": [
        124.33757781982422,
        423.35491943359375
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 4,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "links": [
            763
          ]
        }
      ],
      "title": "Get_clip_vision_output",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "clip_vision_output"
      ]
    },
    {
      "id": 372,
      "type": "GetNode",
      "pos": [
        152.52447509765625,
        380.7513122558594
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            762,
            785
          ]
        }
      ],
      "title": "Get_VAE",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "VAE"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 377,
      "type": "GetNode",
      "pos": [
        127.21821594238281,
        465.54364013671875
      ],
      "size": [
        210,
        58.703125
      ],
      "flags": {
        "collapsed": true
      },
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            765
          ]
        }
      ],
      "title": "Get_reference_image",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 381,
      "type": "GetNode",
      "pos": [
        142.43727111816406,
        600.241943359375
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            771
          ]
        }
      ],
      "title": "Get_width",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 382,
      "type": "GetNode",
      "pos": [
        143.2033233642578,
        643.371826171875
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            772
          ]
        }
      ],
      "title": "Get_height",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 386,
      "type": "GetNode",
      "pos": [
        918.4554443359375,
        530.3924560546875
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            778
          ]
        }
      ],
      "title": "Get_model",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 387,
      "type": "TrimVideoLatent",
      "pos": [
        930.7286987304688,
        885.2009887695312
      ],
      "size": [
        270,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 63,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 780
        },
        {
          "name": "trim_amount",
          "type": "INT",
          "widget": {
            "name": "trim_amount"
          },
          "link": 782
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            781
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "TrimVideoLatent",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 269,
      "type": "VAEDecode",
      "pos": [
        939.0242919921875,
        928.8767700195312
      ],
      "size": [
        210,
        46
      ],
      "flags": {
        "collapsed": true
      },
      "order": 70,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 781
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 785
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            784
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.26",
        "Node name for S&R": "VAEDecode",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 389,
      "type": "ImageFromBatch",
      "pos": [
        925.2490844726562,
        974.6256103515625
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 74,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 784
        },
        {
          "name": "batch_index",
          "type": "INT",
          "widget": {
            "name": "batch_index"
          },
          "link": 783
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            920,
            925
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ImageFromBatch",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0,
        4096
      ]
    },
    {
      "id": 385,
      "type": "GetNode",
      "pos": [
        143.08787536621094,
        688.5211181640625
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            774
          ]
        }
      ],
      "title": "Get_video_length",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "video_length"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 195,
      "type": "Note",
      "pos": [
        663.90673828125,
        250.70018005371094
      ],
      "size": [
        594.676025390625,
        154.8159942626953
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Workflow made by Hearmeman\nhttps://linktr.ee/hearmemanai\n\nThis workflow comes pre installed and ready to run with my RunPod template\nYou can deploy it here: \nhttps://get.runpod.io/wan-template"
      ],
      "color": "#ff14a9",
      "bgcolor": "#ff0095"
    },
    {
      "id": 426,
      "type": "Note",
      "pos": [
        1220.644775390625,
        580.9898681640625
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "If you're video has audio, connect the node above to audio on the right."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 228,
      "type": "CLIPTextEncode",
      "pos": [
        -96.88482666015625,
        126.37248229980469
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 760
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            758
          ]
        }
      ],
      "title": "Negative Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "色调艳丽，过曝，静态，细节模糊不清，字幕，风格，作品，画作，画面，静止，整体发灰，最差质量，低质量，JPEG压缩残留，丑陋的，残缺的，多余的手指，画得不好的手部，画得不好的脸部，畸形的，毁容的，形态畸形的肢体，手指融合，静止不动的画面，杂乱的背景，三条腿，背景人很多，倒着走"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 380,
      "type": "GetNode",
      "pos": [
        137.0120086669922,
        552.80126953125
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            770
          ]
        }
      ],
      "title": "Get_character_masks",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "character_masks"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 371,
      "type": "GetNode",
      "pos": [
        -14.865331649780273,
        15.536727905273438
      ],
      "size": [
        210,
        60.68109893798828
      ],
      "flags": {
        "collapsed": true
      },
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            760,
            761
          ]
        }
      ],
      "title": "Get_CLIP",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "CLIP"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 434,
      "type": "PreviewImage",
      "pos": [
        -816.5198364257812,
        -93.00068664550781
      ],
      "size": [
        140,
        246
      ],
      "flags": {},
      "order": 65,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 877
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "PreviewImage",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 400,
      "type": "GetNode",
      "pos": [
        -696.56005859375,
        684.2606201171875
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            840
          ]
        }
      ],
      "title": "Get_width",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 399,
      "type": "GetNode",
      "pos": [
        -695.172119140625,
        642.114990234375
      ],
      "size": [
        210,
        34
      ],
      "flags": {
        "collapsed": true
      },
      "order": 16,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            841
          ]
        }
      ],
      "title": "Get_height",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 373,
      "type": "GetNode",
      "pos": [
        132.0590362548828,
        509.7165222167969
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 17,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            768
          ]
        }
      ],
      "title": "Get_masked_images",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "masked_images"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 454,
      "type": "GetNode",
      "pos": [
        -1380.177001953125,
        944.2535400390625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 18,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            902,
            911
          ]
        }
      ],
      "title": "Get_width",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 453,
      "type": "GetNode",
      "pos": [
        -1227.0616455078125,
        946.5628662109375
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 19,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            903,
            910
          ]
        }
      ],
      "title": "Get_height",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 455,
      "type": "OnnxDetectionModelLoader",
      "pos": [
        -1376.0087890625,
        997.1275634765625
      ],
      "size": [
        292.8853454589844,
        106
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "model",
          "type": "POSEMODEL",
          "links": [
            904
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-WanAnimatePreprocess",
        "ver": "2fcbcae7eec637fdc712fdec18e6266feb8ba3a7",
        "Node name for S&R": "OnnxDetectionModelLoader",
        "cnr_id": "ComfyUI-WanAnimatePreprocess",
        "ue_properties": {
          "widget_ue_connectable": {
            "vitpose_model": true,
            "yolo_model": true,
            "onnx_device": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "vitpose_h_wholebody_model.onnx",
        "yolov10m.onnx",
        "CUDAExecutionProvider"
      ]
    },
    {
      "id": 452,
      "type": "DownloadAndLoadSAM2Model",
      "pos": [
        -1374.7127685546875,
        1349.97216796875
      ],
      "size": [
        320.8774719238281,
        130
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "sam2_model",
          "type": "SAM2MODEL",
          "links": [
            901
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-segment-anything-2",
        "ver": "ebdb9869596b14babdaa83505e6863aad4618501",
        "Node name for S&R": "DownloadAndLoadSAM2Model",
        "cnr_id": "comfyui-segment-anything-2",
        "ue_properties": {
          "widget_ue_connectable": {
            "model": true,
            "segmentor": true,
            "device": true,
            "precision": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "sam2.1_hiera_base_plus.safetensors",
        "video",
        "cuda",
        "fp16"
      ]
    },
    {
      "id": 365,
      "type": "Sam2Segmentation",
      "pos": [
        -1039.26025390625,
        1230.4913330078125
      ],
      "size": [
        272.087890625,
        182
      ],
      "flags": {
        "collapsed": false
      },
      "order": 68,
      "mode": 0,
      "inputs": [
        {
          "name": "sam2_model",
          "type": "SAM2MODEL",
          "link": 901
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 800
        },
        {
          "name": "coordinates_positive",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "coordinates_negative",
          "shape": 7,
          "type": "STRING",
          "link": null
        },
        {
          "name": "bboxes",
          "shape": 7,
          "type": "BBOX",
          "link": 900
        },
        {
          "name": "mask",
          "shape": 7,
          "type": "MASK",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            913
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-segment-anything-2",
        "ver": "ebdb9869596b14babdaa83505e6863aad4618501",
        "Node name for S&R": "Sam2Segmentation",
        "cnr_id": "ComfyUI-segment-anything-2",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        false,
        false
      ]
    },
    {
      "id": 456,
      "type": "DrawViTPose",
      "pos": [
        -1032.362060546875,
        996.512451171875
      ],
      "size": [
        267.84942626953125,
        179.24781799316406
      ],
      "flags": {
        "collapsed": false
      },
      "order": 66,
      "mode": 0,
      "inputs": [
        {
          "name": "pose_data",
          "type": "POSEDATA",
          "link": 908
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 911
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 910
        }
      ],
      "outputs": [
        {
          "name": "pose_images",
          "type": "IMAGE",
          "links": [
            915
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-WanAnimatePreprocess",
        "ver": "2fcbcae7eec637fdc712fdec18e6266feb8ba3a7",
        "Node name for S&R": "DrawViTPose",
        "cnr_id": "ComfyUI-WanAnimatePreprocess",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true,
            "retarget_padding": true,
            "body_stick_width": true,
            "hand_stick_width": true,
            "draw_head": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        832,
        480,
        16,
        -1,
        -1,
        "True"
      ]
    },
    {
      "id": 458,
      "type": "SetNode",
      "pos": [
        -712.4842529296875,
        999.1856689453125
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 71,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 915
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_pose_images",
      "properties": {
        "previousName": "pose_images",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "pose_images"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 459,
      "type": "SetNode",
      "pos": [
        -709.5392456054688,
        958.3319702148438
      ],
      "size": [
        210.38446044921875,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 67,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 916
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_face_images",
      "properties": {
        "previousName": "face_images",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "face_images"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 460,
      "type": "GetNode",
      "pos": [
        141.7530517578125,
        730.595947265625
      ],
      "size": [
        211.1592559814453,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 22,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            917
          ]
        }
      ],
      "title": "Get_pose_images",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "pose_images"
      ],
      "color": "#233",
      "bgcolor": "#355"
    },
    {
      "id": 461,
      "type": "GetNode",
      "pos": [
        145.5682830810547,
        772.167724609375
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 23,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            918
          ]
        }
      ],
      "title": "Get_face_images",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "face_images"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 416,
      "type": "MarkdownNote",
      "pos": [
        -2112.0966796875,
        1194.28857421875
      ],
      "size": [
        475.48687744140625,
        302.3570556640625
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "# Wan Animate Tutorial by HearmemanAI\n\n## Step 1: Load Models\n- Download models from Hugging Face  \n- **Note:** If using the HearmemanAI RunPod template, models are already pre-loaded  \n\n## Step 2: Setup Your Media\n- Load your **reference image** (the person you want to use)  \n- Load your **reference video** (the video where you want to replace the person)  \n- Set video size (must be divisible by 16)  \n  - Recommended: `720x1280` or `480x832`  \n- Enter your **text prompt**  \n\n## Step 3:\n- Run the workflow\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 161,
      "type": "Note",
      "pos": [
        -2211.494384765625,
        184.737548828125
      ],
      "size": [
        346.915771484375,
        88
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Load your models here ↓\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 255,
      "type": "ModelSamplingSD3",
      "pos": [
        -1621.640380859375,
        579.36181640625
      ],
      "size": [
        236.1778106689453,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 69,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 923
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "slot_index": 0,
          "links": [
            695
          ]
        }
      ],
      "title": "Shift",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "ModelSamplingSD3",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        8
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 316,
      "type": "SetNode",
      "pos": [
        -1629.75341796875,
        688.3832397460938
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 73,
      "mode": 0,
      "inputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "link": 695
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_model",
      "properties": {
        "previousName": "model",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "model"
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 462,
      "type": "VHS_VideoCombine",
      "pos": [
        1486.848876953125,
        528.432861328125
      ],
      "size": [
        364.03277587890625,
        334
      ],
      "flags": {},
      "order": 76,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 920
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 919
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "ue_properties": {
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true,
            "pix_fmt": true,
            "crf": true,
            "save_metadata": true,
            "trim_to_audio": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": true,
          "params": {
            "filename": "AnimateDiff_00003-audio.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 16,
            "workflow": "AnimateDiff_00003.png",
            "fullpath": "/workspace/ComfyUI/output/AnimateDiff_00003-audio.mp4"
          },
          "muted": false
        }
      }
    },
    {
      "id": 467,
      "type": "VHS_VideoCombine",
      "pos": [
        2330.4306640625,
        535.086181640625
      ],
      "size": [
        364.03277587890625,
        959.6138305664062
      ],
      "flags": {},
      "order": 81,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 926
        },
        {
          "name": "audio",
          "shape": 7,
          "type": "AUDIO",
          "link": 940
        },
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "Filenames",
          "type": "VHS_FILENAMES",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "Node name for S&R": "VHS_VideoCombine",
        "cnr_id": "comfyui-videohelpersuite",
        "ue_properties": {
          "widget_ue_connectable": {
            "frame_rate": true,
            "loop_count": true,
            "filename_prefix": true,
            "format": true,
            "pingpong": true,
            "save_output": true,
            "pix_fmt": true,
            "crf": true,
            "save_metadata": true,
            "trim_to_audio": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "frame_rate": 32,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "filename": "AnimateDiff_00004.mp4",
            "subfolder": "",
            "type": "output",
            "format": "video/h264-mp4",
            "frame_rate": 32,
            "workflow": "AnimateDiff_00004.png",
            "fullpath": "/workspace/ComfyUI/output/AnimateDiff_00004.mp4"
          },
          "muted": false
        }
      }
    },
    {
      "id": 465,
      "type": "RIFE VFI",
      "pos": [
        1903.953857421875,
        536.27734375
      ],
      "size": [
        349.6578063964844,
        198
      ],
      "flags": {},
      "order": 77,
      "mode": 0,
      "inputs": [
        {
          "name": "frames",
          "type": "IMAGE",
          "link": 925
        },
        {
          "name": "optional_interpolation_states",
          "shape": 7,
          "type": "INTERPOLATION_STATES",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            926
          ]
        }
      ],
      "properties": {
        "aux_id": "Fannovel16/ComfyUI-Frame-Interpolation",
        "ver": "a969c01dbccd9e5510641be04eb51fe93f6bfc3d",
        "Node name for S&R": "RIFE VFI",
        "cnr_id": "comfyui-frame-interpolation",
        "ue_properties": {
          "widget_ue_connectable": {
            "ckpt_name": true,
            "clear_cache_after_n_frames": true,
            "multiplier": true,
            "fast_mode": true,
            "ensemble": true,
            "scale_factor": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "rife49.pth",
        5,
        2,
        false,
        true,
        1
      ]
    },
    {
      "id": 412,
      "type": "ImageScale",
      "pos": [
        -696.52783203125,
        738.2997436523438
      ],
      "size": [
        270,
        130
      ],
      "flags": {
        "collapsed": true
      },
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 853
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 840
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 841
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            845
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ImageScale",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "lanczos",
        512,
        512,
        "center"
      ]
    },
    {
      "id": 470,
      "type": "SetNode",
      "pos": [
        -529.7872924804688,
        789.5674438476562
      ],
      "size": [
        210,
        60.703125
      ],
      "flags": {
        "collapsed": true
      },
      "order": 60,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 927
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_source_video",
      "properties": {
        "previousName": "source_video",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "source_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 324,
      "type": "KSampler",
      "pos": [
        860.9452514648438,
        572.6673583984375
      ],
      "size": [
        270,
        526
      ],
      "flags": {},
      "order": 57,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 778
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 776
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 775
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 777
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            780
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "KSampler",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        438695614276605,
        "randomize",
        4,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 418,
      "type": "VHS_VideoInfo",
      "pos": [
        -327.09991455078125,
        -76.70751953125
      ],
      "size": [
        224.12109375,
        206
      ],
      "flags": {
        "collapsed": true
      },
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "link": 851
        }
      ],
      "outputs": [
        {
          "name": "source_fps🟨",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "source_frame_count🟨",
          "type": "INT",
          "links": null
        },
        {
          "name": "source_duration🟨",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "source_width🟨",
          "type": "INT",
          "links": []
        },
        {
          "name": "source_height🟨",
          "type": "INT",
          "links": []
        },
        {
          "name": "loaded_fps🟦",
          "type": "FLOAT",
          "links": []
        },
        {
          "name": "loaded_frame_count🟦",
          "type": "INT",
          "links": [
            892
          ]
        },
        {
          "name": "loaded_duration🟦",
          "type": "FLOAT",
          "links": null
        },
        {
          "name": "loaded_width🟦",
          "type": "INT",
          "links": null
        },
        {
          "name": "loaded_height🟦",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "Node name for S&R": "VHS_VideoInfo",
        "cnr_id": "comfyui-videohelpersuite",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {}
    },
    {
      "id": 446,
      "type": "SetNode",
      "pos": [
        -329.02337646484375,
        -31.038272857666016
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 892
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_source_video_frames",
      "properties": {
        "previousName": "source_video_frames",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "source_video_frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 436,
      "type": "SetNode",
      "pos": [
        -318.5030517578125,
        13.000677108764648
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 880
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_reference_video",
      "properties": {
        "previousName": "reference_video",
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "reference_video"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 370,
      "type": "WanAnimateToVideo",
      "pos": [
        392.9659118652344,
        535.3731079101562
      ],
      "size": [
        324.751953125,
        358
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 759
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 758
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 762
        },
        {
          "name": "clip_vision_output",
          "shape": 7,
          "type": "CLIP_VISION_OUTPUT",
          "link": 763
        },
        {
          "name": "reference_image",
          "shape": 7,
          "type": "IMAGE",
          "link": 765
        },
        {
          "name": "face_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 918
        },
        {
          "name": "pose_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 917
        },
        {
          "name": "background_video",
          "shape": 7,
          "type": "IMAGE",
          "link": 768
        },
        {
          "name": "character_mask",
          "shape": 7,
          "type": "MASK",
          "link": 770
        },
        {
          "name": "continue_motion",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 771
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 772
        },
        {
          "name": "length",
          "type": "INT",
          "widget": {
            "name": "length"
          },
          "link": 774
        }
      ],
      "outputs": [
        {
          "name": "positive",
          "type": "CONDITIONING",
          "links": [
            776
          ]
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "links": [
            775
          ]
        },
        {
          "name": "latent",
          "type": "LATENT",
          "links": [
            777
          ]
        },
        {
          "name": "trim_latent",
          "type": "INT",
          "links": [
            782
          ]
        },
        {
          "name": "trim_image",
          "type": "INT",
          "links": [
            783
          ]
        },
        {
          "name": "video_frame_offset",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "WanAnimateToVideo",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        832,
        480,
        77,
        1,
        4097,
        0
      ]
    },
    {
      "id": 331,
      "type": "PrimitiveInt",
      "pos": [
        -1140.576416015625,
        511.810791015625
      ],
      "size": [
        266.79296875,
        82
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            705
          ]
        }
      ],
      "title": "Video Height",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        1280,
        "fixed"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 451,
      "type": "PoseAndFaceDetection",
      "pos": [
        -1376.798583984375,
        1145.5814208984375
      ],
      "size": [
        313.125,
        162
      ],
      "flags": {},
      "order": 59,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "POSEMODEL",
          "link": 904
        },
        {
          "name": "images",
          "type": "IMAGE",
          "link": 905
        },
        {
          "name": "retarget_image",
          "shape": 7,
          "type": "IMAGE",
          "link": null
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 902
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 903
        }
      ],
      "outputs": [
        {
          "name": "pose_data",
          "type": "POSEDATA",
          "links": [
            908
          ]
        },
        {
          "name": "face_images",
          "type": "IMAGE",
          "links": [
            916
          ]
        },
        {
          "name": "key_frame_body_points",
          "type": "STRING",
          "links": null
        },
        {
          "name": "bboxes",
          "type": "BBOX",
          "links": [
            900
          ]
        },
        {
          "name": "face_bboxes",
          "type": "BBOX,",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-WanAnimatePreprocess",
        "ver": "2fcbcae7eec637fdc712fdec18e6266feb8ba3a7",
        "Node name for S&R": "PoseAndFaceDetection",
        "cnr_id": "ComfyUI-WanAnimatePreprocess",
        "ue_properties": {
          "widget_ue_connectable": {
            "width": true,
            "height": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        832,
        480
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 476,
      "type": "ImageFromBatch",
      "pos": [
        -66.401123046875,
        986.81201171875
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 83,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 936
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            937
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ImageFromBatch"
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 474,
      "type": "Image Comparer (rgthree)",
      "pos": [
        -313.5278625488281,
        1106.2227783203125
      ],
      "size": [
        622.05859375,
        379.52734375
      ],
      "flags": {},
      "order": 84,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "name": "image_a",
          "type": "IMAGE",
          "link": 938
        },
        {
          "dir": 3,
          "name": "image_b",
          "type": "IMAGE",
          "link": 937
        }
      ],
      "outputs": [],
      "properties": {
        "aux_id": "rgthree/rgthree-comfy",
        "ver": "0fb1e239a903e93ef626a8c20589b38f46e39dff",
        "comparer_mode": "Slide"
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_xphmh_00007_.png&type=temp&subfolder=&rand=0.3471385686036488"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/api/view?filename=rgthree.compare._temp_xphmh_00008_.png&type=temp&subfolder=&rand=0.8422794253545107"
          }
        ]
      ]
    },
    {
      "id": 407,
      "type": "MaskToImage",
      "pos": [
        -82.43975830078125,
        947.0511474609375
      ],
      "size": [
        184.62362670898438,
        26
      ],
      "flags": {
        "collapsed": true
      },
      "order": 80,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 832
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            936
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "MaskToImage",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 367,
      "type": "BlockifyMask",
      "pos": [
        -525.0794677734375,
        946.482666015625
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 75,
      "mode": 0,
      "inputs": [
        {
          "name": "masks",
          "type": "MASK",
          "link": 914
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            756,
            769,
            832
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-KJNodes",
        "ver": "9d7af919b91838fb22e31ad0107a6ddcf8bd7f3f",
        "Node name for S&R": "BlockifyMask",
        "cnr_id": "comfyui-kjnodes",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        32,
        "cpu"
      ]
    },
    {
      "id": 368,
      "type": "DrawMaskOnImage",
      "pos": [
        -524.4251098632812,
        991.8242797851562
      ],
      "size": [
        270,
        102
      ],
      "flags": {
        "collapsed": true
      },
      "order": 78,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 801
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 756
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            757
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-KJNodes",
        "ver": "9d7af919b91838fb22e31ad0107a6ddcf8bd7f3f",
        "Node name for S&R": "DrawMaskOnImage",
        "cnr_id": "comfyui-kjnodes",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "0, 0, 0",
        "cpu"
      ]
    },
    {
      "id": 369,
      "type": "SetNode",
      "pos": [
        -512.3544921875,
        1037.696533203125
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 82,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 757
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_masked_images",
      "properties": {
        "previousName": "masked_images",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "masked_images"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 379,
      "type": "SetNode",
      "pos": [
        -294.0423583984375,
        993.5542602539062
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 79,
      "mode": 0,
      "inputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "link": 769
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_character_masks",
      "properties": {
        "previousName": "character_masks",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "character_masks"
      ],
      "color": "#1c5715",
      "bgcolor": "#1f401b"
    },
    {
      "id": 457,
      "type": "GrowMaskWithBlur",
      "pos": [
        -715.5154418945312,
        1090.5029296875
      ],
      "size": [
        292.748046875,
        246
      ],
      "flags": {
        "collapsed": false
      },
      "order": 72,
      "mode": 0,
      "inputs": [
        {
          "name": "mask",
          "type": "MASK",
          "link": 913
        }
      ],
      "outputs": [
        {
          "name": "mask",
          "type": "MASK",
          "links": [
            914
          ]
        },
        {
          "name": "mask_inverted",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-KJNodes",
        "ver": "405c99ec16e32dfd122de5e9113da8cebf11ed2f",
        "Node name for S&R": "GrowMaskWithBlur",
        "cnr_id": "comfyui-kjnodes",
        "ue_properties": {
          "widget_ue_connectable": {
            "expand": true,
            "incremental_expandrate": true,
            "tapered_corners": true,
            "flip_input": true,
            "blur_radius": true,
            "lerp_alpha": true,
            "decay_factor": true,
            "fill_holes": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        10,
        0,
        true,
        false,
        0,
        1,
        1,
        false
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 332,
      "type": "SetNode",
      "pos": [
        -1348.9884033203125,
        765.6312866210938
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 705
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_height",
      "properties": {
        "previousName": "height",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "height"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 333,
      "type": "SetNode",
      "pos": [
        -1202.0494384765625,
        764.09619140625
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 704
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_width",
      "properties": {
        "previousName": "width",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "width"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 384,
      "type": "SetNode",
      "pos": [
        -1057.177001953125,
        761.6646118164062
      ],
      "size": [
        210,
        50
      ],
      "flags": {
        "collapsed": true
      },
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "INT",
          "type": "INT",
          "link": 773
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_video_length",
      "properties": {
        "previousName": "video_length",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "video_length"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 447,
      "type": "GetNode",
      "pos": [
        -1234.952392578125,
        717.4524536132812
      ],
      "size": [
        210,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 27,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            893
          ]
        }
      ],
      "title": "Get_source_video_frames",
      "properties": {
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "source_video_frames"
      ],
      "color": "#1b4669",
      "bgcolor": "#29699c"
    },
    {
      "id": 383,
      "type": "PrimitiveInt",
      "pos": [
        -1283.059814453125,
        657.445556640625
      ],
      "size": [
        296.4732360839844,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "value",
          "type": "INT",
          "widget": {
            "name": "value"
          },
          "link": 893
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            773
          ]
        }
      ],
      "title": "Video Length In Frames (auto generated)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        254,
        "fixed"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 311,
      "type": "LoadImage",
      "pos": [
        -1439.2359619140625,
        -145.7093963623047
      ],
      "size": [
        274.080078125,
        314.0000305175781
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            701,
            872,
            875
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Upload a reference image",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.46",
        "Node name for S&R": "LoadImage",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "WkXr-THUtdZoUTfWDUb0y_d55f6ea8d1ad4b3c922cb0f19d3d1f57.png",
        "image"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 227,
      "type": "CLIPTextEncode",
      "pos": [
        -99.82069396972656,
        -116.3338623046875
      ],
      "size": [
        400,
        200
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 761
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            759
          ]
        }
      ],
      "title": "Positive Prompt",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.16",
        "Node name for S&R": "CLIPTextEncode",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "A photorealistic video with visible lens flare and chromatic aberration showing Sydney01, her light brown hair cascading down her shoulders and her light blue eyes are glistening.\nShe is performing a dance for the viewer"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 475,
      "type": "ImageFromBatch",
      "pos": [
        -62.941001892089844,
        1034.3270263671875
      ],
      "size": [
        270,
        82
      ],
      "flags": {
        "collapsed": true
      },
      "order": 61,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 939
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            938
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "ImageFromBatch"
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 397,
      "type": "ImagePass",
      "pos": [
        -689.176513671875,
        790.970947265625
      ],
      "size": [
        140,
        26
      ],
      "flags": {
        "collapsed": true
      },
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "shape": 7,
          "type": "IMAGE",
          "link": 845
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            800,
            801,
            905,
            927,
            939
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-KJNodes",
        "ver": "9d7af919b91838fb22e31ad0107a6ddcf8bd7f3f",
        "Node name for S&R": "ImagePass",
        "cnr_id": "comfyui-kjnodes",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": []
    },
    {
      "id": 327,
      "type": "GetNode",
      "pos": [
        -1089.6536865234375,
        -147.16796875
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 29,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP_VISION",
          "type": "CLIP_VISION",
          "links": [
            702
          ]
        }
      ],
      "title": "Get_clip_vision",
      "properties": {
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "clip_vision"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 326,
      "type": "CLIPVisionEncode",
      "pos": [
        -1097.21826171875,
        -102.4353256225586
      ],
      "size": [
        290.390625,
        78
      ],
      "flags": {
        "collapsed": true
      },
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "clip_vision",
          "type": "CLIP_VISION",
          "link": 702
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 701
        }
      ],
      "outputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "links": [
            703
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "CLIPVisionEncode",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "center"
      ]
    },
    {
      "id": 328,
      "type": "SetNode",
      "pos": [
        -1098.4140625,
        -57.23936080932617
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "CLIP_VISION_OUTPUT",
          "type": "CLIP_VISION_OUTPUT",
          "link": 703
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_clip_vision_output",
      "properties": {
        "previousName": "clip_vision_output",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "clip_vision_output"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 433,
      "type": "DWPreprocessor",
      "pos": [
        -1093.8724365234375,
        -10.196574211120605
      ],
      "size": [
        294.72265625,
        222
      ],
      "flags": {
        "collapsed": true
      },
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 872
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "POSE_KEYPOINT",
          "type": "POSE_KEYPOINT",
          "links": [
            873
          ]
        }
      ],
      "properties": {
        "aux_id": "Fannovel16/comfyui_controlnet_aux",
        "ver": "cc6b232f4a47f0cdf70f4e1bfa24b74bd0d75bf1",
        "Node name for S&R": "DWPreprocessor",
        "cnr_id": "comfyui_controlnet_aux",
        "ue_properties": {
          "widget_ue_connectable": {
            "detect_hand": true,
            "detect_body": true,
            "detect_face": true,
            "resolution": true,
            "bbox_detector": true,
            "pose_estimator": true,
            "scale_stick_for_xinsr_cn": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "disable",
        "disable",
        "enable",
        512,
        "yolox_l.onnx",
        "dw-ll_ucoco_384_bs5.torchscript.pt",
        "disable"
      ]
    },
    {
      "id": 431,
      "type": "FaceMaskFromPoseKeypoints",
      "pos": [
        -1120.070556640625,
        37.682655334472656
      ],
      "size": [
        306.0855407714844,
        58
      ],
      "flags": {
        "collapsed": true
      },
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "pose_kps",
          "type": "POSE_KEYPOINT",
          "link": 873
        }
      ],
      "outputs": [
        {
          "name": "MASK",
          "type": "MASK",
          "links": [
            874
          ]
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-WanVideoWrapper",
        "ver": "cfdae3b49f10561138f60fb1759c4675c2537d0a",
        "Node name for S&R": "FaceMaskFromPoseKeypoints",
        "cnr_id": "ComfyUI-WanVideoWrapper",
        "ue_properties": {
          "widget_ue_connectable": {
            "person_index": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        0
      ]
    },
    {
      "id": 432,
      "type": "ImageCropByMaskAndResize",
      "pos": [
        -1145.2977294921875,
        83.58061981201172
      ],
      "size": [
        306.0923767089844,
        170
      ],
      "flags": {
        "collapsed": false
      },
      "order": 58,
      "mode": 4,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 875
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 874
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            876,
            877
          ]
        },
        {
          "name": "masks",
          "type": "MASK",
          "links": null
        },
        {
          "name": "bbox",
          "type": "BBOX",
          "links": null
        }
      ],
      "properties": {
        "aux_id": "kijai/ComfyUI-KJNodes",
        "ver": "9d7af919b91838fb22e31ad0107a6ddcf8bd7f3f",
        "Node name for S&R": "ImageCropByMaskAndResize",
        "cnr_id": "comfyui-kjnodes",
        "ue_properties": {
          "widget_ue_connectable": {
            "base_resolution": true,
            "padding": true,
            "min_crop_resolution": true,
            "max_crop_resolution": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        512,
        250,
        128,
        512
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 378,
      "type": "SetNode",
      "pos": [
        -806.2681274414062,
        229.3135528564453
      ],
      "size": [
        210,
        60
      ],
      "flags": {
        "collapsed": true
      },
      "order": 64,
      "mode": 0,
      "inputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "link": 876
        }
      ],
      "outputs": [
        {
          "name": "*",
          "type": "*",
          "links": null
        }
      ],
      "title": "Set_reference_image",
      "properties": {
        "previousName": "reference_image",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "reference_image"
      ],
      "color": "#2a363b",
      "bgcolor": "#3f5159"
    },
    {
      "id": 315,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2247.55712890625,
        654.5430908203125
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 692
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            921
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "wan2.2_animate_14B_relight_lora_bf16.safetensors",
        1
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 314,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -2248.400390625,
        527.7752685546875
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 693
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            692
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "i2v_lightx2v_low_noise_model.safetensors",
        1
      ],
      "color": "#223",
      "bgcolor": "#335"
    },
    {
      "id": 463,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -1950.1246337890625,
        527.3271484375
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 56,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 921
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            922
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "BreastsLoRA_ByHearmemanAI_LowNoise-000070.safetensors",
        0.75
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 417,
      "type": "VHS_LoadVideo",
      "pos": [
        -603.7664184570312,
        -139.00216674804688
      ],
      "size": [
        252.056640625,
        736.1005859375
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager",
          "link": null
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            853,
            880
          ]
        },
        {
          "name": "frame_count",
          "type": "INT",
          "links": null
        },
        {
          "name": "audio",
          "type": "AUDIO",
          "links": [
            865
          ]
        },
        {
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": [
            851
          ]
        }
      ],
      "title": "Upload a reference video",
      "properties": {
        "aux_id": "Kosinkadink/ComfyUI-VideoHelperSuite",
        "ver": "0edce8ef7ce173ac97a3ed3d6f4636029d1a4530",
        "Node name for S&R": "VHS_LoadVideo",
        "cnr_id": "comfyui-videohelpersuite",
        "ue_properties": {
          "widget_ue_connectable": {
            "video": true,
            "force_rate": true,
            "custom_width": true,
            "custom_height": true,
            "frame_load_cap": true,
            "skip_first_frames": true,
            "select_every_nth": true,
            "format": true
          },
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": {
        "video": "@romy_shahini.mp4",
        "force_rate": 16,
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 81,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "hidden": false,
          "paused": false,
          "params": {
            "force_rate": 16,
            "custom_width": 0,
            "custom_height": 0,
            "frame_load_cap": 81,
            "skip_first_frames": 0,
            "select_every_nth": 1,
            "filename": "@romy_shahini.mp4",
            "type": "input",
            "format": "video/mp4"
          }
        }
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 330,
      "type": "PrimitiveInt",
      "pos": [
        -1147.3123779296875,
        372.4198913574219
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            704
          ]
        }
      ],
      "title": "Video Width",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "PrimitiveInt",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        720,
        "fixed"
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 477,
      "type": "Note",
      "pos": [
        -717.3117065429688,
        1382.2989501953125
      ],
      "size": [
        310.2561340332031,
        88
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Change expand values to 100-250 when using face swapping to capture the required area for replacement. \nUse the compare node on the right to make sure the mask is correct"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 478,
      "type": "Note",
      "pos": [
        -1399.171142578125,
        435.0847473144531
      ],
      "size": [
        210,
        88
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "Width and Height MUST be divisible by 16"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 425,
      "type": "Reroute",
      "pos": [
        1270.6990966796875,
        507.98553466796875
      ],
      "size": [
        82,
        26
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "",
          "type": "*",
          "link": 865
        }
      ],
      "outputs": [
        {
          "name": "AUDIO",
          "type": "AUDIO",
          "links": [
            919,
            940
          ]
        }
      ],
      "title": "Audio",
      "properties": {
        "showOutputText": true,
        "horizontal": false,
        "ue_properties": {
          "widget_ue_connectable": {},
          "version": "7.1",
          "input_ue_unconnectable": {}
        }
      }
    },
    {
      "id": 464,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -1943.75,
        657.291748046875
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 62,
      "mode": 4,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 922
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            923
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.60",
        "Node name for S&R": "LoraLoaderModelOnly",
        "ue_properties": {
          "version": "7.1",
          "widget_ue_connectable": {},
          "input_ue_unconnectable": {}
        }
      },
      "widgets_values": [
        "Sydney01_LowNoise.safetensors",
        0.8
      ],
      "color": "#323",
      "bgcolor": "#535"
    }
  ],
  "links": [
    [
      372,
      16,
      0,
      117,
      0,
      "SAMPLER"
    ],
    [
      373,
      167,
      0,
      111,
      0,
      "MODEL"
    ],
    [
      374,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      375,
      167,
      0,
      22,
      0,
      "MODEL"
    ],
    [
      376,
      25,
      0,
      110,
      0,
      "NOISE"
    ],
    [
      377,
      167,
      0,
      116,
      0,
      "MODEL"
    ],
    [
      378,
      167,
      0,
      17,
      0,
      "MODEL"
    ],
    [
      379,
      25,
      0,
      106,
      0,
      "NOISE"
    ],
    [
      380,
      16,
      0,
      106,
      2,
      "SAMPLER"
    ],
    [
      381,
      45,
      0,
      106,
      4,
      "LATENT"
    ],
    [
      409,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      419,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      435,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      436,
      227,
      0,
      230,
      1,
      "CONDITIONING"
    ],
    [
      437,
      228,
      0,
      230,
      2,
      "CONDITIONING"
    ],
    [
      438,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      439,
      227,
      0,
      230,
      1,
      "CONDITIONING"
    ],
    [
      440,
      228,
      0,
      230,
      2,
      "CONDITIONING"
    ],
    [
      482,
      225,
      0,
      94,
      3,
      "VAE"
    ],
    [
      483,
      225,
      0,
      97,
      3,
      "VAE"
    ],
    [
      484,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      485,
      225,
      0,
      95,
      3,
      "VAE"
    ],
    [
      486,
      225,
      0,
      80,
      3,
      "VAE"
    ],
    [
      487,
      225,
      0,
      232,
      1,
      "VAE"
    ],
    [
      488,
      224,
      0,
      227,
      0,
      "CLIP"
    ],
    [
      489,
      224,
      0,
      228,
      0,
      "CLIP"
    ],
    [
      490,
      227,
      0,
      230,
      1,
      "CONDITIONING"
    ],
    [
      491,
      228,
      0,
      230,
      2,
      "CONDITIONING"
    ],
    [
      492,
      225,
      0,
      94,
      3,
      "VAE"
    ],
    [
      493,
      225,
      0,
      97,
      3,
      "VAE"
    ],
    [
      494,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      495,
      225,
      0,
      95,
      3,
      "VAE"
    ],
    [
      496,
      225,
      0,
      80,
      3,
      "VAE"
    ],
    [
      497,
      225,
      0,
      232,
      1,
      "VAE"
    ],
    [
      498,
      224,
      0,
      228,
      0,
      "CLIP"
    ],
    [
      499,
      227,
      0,
      230,
      1,
      "CONDITIONING"
    ],
    [
      500,
      228,
      0,
      230,
      2,
      "CONDITIONING"
    ],
    [
      501,
      224,
      0,
      227,
      0,
      "CLIP"
    ],
    [
      526,
      225,
      0,
      94,
      3,
      "VAE"
    ],
    [
      527,
      225,
      0,
      97,
      3,
      "VAE"
    ],
    [
      528,
      154,
      0,
      99,
      0,
      "UPSCALE_MODEL"
    ],
    [
      529,
      225,
      0,
      95,
      3,
      "VAE"
    ],
    [
      530,
      225,
      0,
      80,
      3,
      "VAE"
    ],
    [
      531,
      225,
      0,
      269,
      1,
      "VAE"
    ],
    [
      532,
      227,
      0,
      230,
      1,
      "CONDITIONING"
    ],
    [
      533,
      228,
      0,
      230,
      2,
      "CONDITIONING"
    ],
    [
      534,
      224,
      0,
      268,
      1,
      "CLIP"
    ],
    [
      692,
      314,
      0,
      315,
      0,
      "MODEL"
    ],
    [
      693,
      226,
      0,
      314,
      0,
      "MODEL"
    ],
    [
      695,
      255,
      0,
      316,
      0,
      "*"
    ],
    [
      696,
      317,
      0,
      322,
      0,
      "*"
    ],
    [
      697,
      224,
      0,
      319,
      0,
      "*"
    ],
    [
      698,
      225,
      0,
      321,
      0,
      "*"
    ],
    [
      701,
      311,
      0,
      326,
      1,
      "IMAGE"
    ],
    [
      702,
      327,
      0,
      326,
      0,
      "CLIP_VISION"
    ],
    [
      703,
      326,
      0,
      328,
      0,
      "*"
    ],
    [
      704,
      330,
      0,
      333,
      0,
      "*"
    ],
    [
      705,
      331,
      0,
      332,
      0,
      "*"
    ],
    [
      756,
      367,
      0,
      368,
      1,
      "MASK"
    ],
    [
      757,
      368,
      0,
      369,
      0,
      "*"
    ],
    [
      758,
      228,
      0,
      370,
      1,
      "CONDITIONING"
    ],
    [
      759,
      227,
      0,
      370,
      0,
      "CONDITIONING"
    ],
    [
      760,
      371,
      0,
      228,
      0,
      "CLIP"
    ],
    [
      761,
      371,
      0,
      227,
      0,
      "CLIP"
    ],
    [
      762,
      372,
      0,
      370,
      2,
      "VAE"
    ],
    [
      763,
      374,
      0,
      370,
      3,
      "CLIP_VISION_OUTPUT"
    ],
    [
      765,
      377,
      0,
      370,
      4,
      "IMAGE"
    ],
    [
      768,
      373,
      0,
      370,
      7,
      "IMAGE"
    ],
    [
      769,
      367,
      0,
      379,
      0,
      "*"
    ],
    [
      770,
      380,
      0,
      370,
      8,
      "MASK"
    ],
    [
      771,
      381,
      0,
      370,
      10,
      "INT"
    ],
    [
      772,
      382,
      0,
      370,
      11,
      "INT"
    ],
    [
      773,
      383,
      0,
      384,
      0,
      "*"
    ],
    [
      774,
      385,
      0,
      370,
      12,
      "INT"
    ],
    [
      775,
      370,
      1,
      324,
      2,
      "CONDITIONING"
    ],
    [
      776,
      370,
      0,
      324,
      1,
      "CONDITIONING"
    ],
    [
      777,
      370,
      2,
      324,
      3,
      "LATENT"
    ],
    [
      778,
      386,
      0,
      324,
      0,
      "MODEL"
    ],
    [
      780,
      324,
      0,
      387,
      0,
      "LATENT"
    ],
    [
      781,
      387,
      0,
      269,
      0,
      "LATENT"
    ],
    [
      782,
      370,
      3,
      387,
      1,
      "INT"
    ],
    [
      783,
      370,
      4,
      389,
      1,
      "INT"
    ],
    [
      784,
      269,
      0,
      389,
      0,
      "IMAGE"
    ],
    [
      785,
      372,
      0,
      269,
      1,
      "VAE"
    ],
    [
      800,
      397,
      0,
      365,
      1,
      "IMAGE"
    ],
    [
      801,
      397,
      0,
      368,
      0,
      "IMAGE"
    ],
    [
      832,
      367,
      0,
      407,
      0,
      "MASK"
    ],
    [
      840,
      400,
      0,
      412,
      1,
      "INT"
    ],
    [
      841,
      399,
      0,
      412,
      2,
      "INT"
    ],
    [
      845,
      412,
      0,
      397,
      0,
      "IMAGE"
    ],
    [
      851,
      417,
      3,
      418,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      853,
      417,
      0,
      412,
      0,
      "IMAGE"
    ],
    [
      865,
      417,
      2,
      425,
      0,
      "*"
    ],
    [
      872,
      311,
      0,
      433,
      0,
      "IMAGE"
    ],
    [
      873,
      433,
      1,
      431,
      0,
      "POSE_KEYPOINT"
    ],
    [
      874,
      431,
      0,
      432,
      1,
      "MASK"
    ],
    [
      875,
      311,
      0,
      432,
      0,
      "IMAGE"
    ],
    [
      876,
      432,
      0,
      378,
      0,
      "IMAGE"
    ],
    [
      877,
      432,
      0,
      434,
      0,
      "IMAGE"
    ],
    [
      880,
      417,
      0,
      436,
      0,
      "*"
    ],
    [
      892,
      418,
      6,
      446,
      0,
      "*"
    ],
    [
      893,
      447,
      0,
      383,
      0,
      "INT"
    ],
    [
      900,
      451,
      3,
      365,
      4,
      "BBOX"
    ],
    [
      901,
      452,
      0,
      365,
      0,
      "SAM2MODEL"
    ],
    [
      902,
      454,
      0,
      451,
      3,
      "INT"
    ],
    [
      903,
      453,
      0,
      451,
      4,
      "INT"
    ],
    [
      904,
      455,
      0,
      451,
      0,
      "POSEMODEL"
    ],
    [
      905,
      397,
      0,
      451,
      1,
      "IMAGE"
    ],
    [
      908,
      451,
      0,
      456,
      0,
      "POSEDATA"
    ],
    [
      910,
      453,
      0,
      456,
      2,
      "INT"
    ],
    [
      911,
      454,
      0,
      456,
      1,
      "INT"
    ],
    [
      913,
      365,
      0,
      457,
      0,
      "MASK"
    ],
    [
      914,
      457,
      0,
      367,
      0,
      "MASK"
    ],
    [
      915,
      456,
      0,
      458,
      0,
      "*"
    ],
    [
      916,
      451,
      1,
      459,
      0,
      "*"
    ],
    [
      917,
      460,
      0,
      370,
      6,
      "IMAGE"
    ],
    [
      918,
      461,
      0,
      370,
      5,
      "IMAGE"
    ],
    [
      919,
      425,
      0,
      462,
      1,
      "AUDIO"
    ],
    [
      920,
      389,
      0,
      462,
      0,
      "IMAGE"
    ],
    [
      921,
      315,
      0,
      463,
      0,
      "MODEL"
    ],
    [
      922,
      463,
      0,
      464,
      0,
      "MODEL"
    ],
    [
      923,
      464,
      0,
      255,
      0,
      "MODEL"
    ],
    [
      925,
      389,
      0,
      465,
      0,
      "IMAGE"
    ],
    [
      926,
      465,
      0,
      467,
      0,
      "IMAGE"
    ],
    [
      927,
      397,
      0,
      470,
      0,
      "*"
    ],
    [
      936,
      407,
      0,
      476,
      0,
      "IMAGE"
    ],
    [
      937,
      476,
      0,
      474,
      1,
      "IMAGE"
    ],
    [
      938,
      475,
      0,
      474,
      0,
      "IMAGE"
    ],
    [
      939,
      397,
      0,
      475,
      0,
      "IMAGE"
    ],
    [
      940,
      425,
      0,
      467,
      1,
      "AUDIO"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step 1 - Model Loaders",
      "bounding": [
        -2294.643798828125,
        292.9669494628906,
        796.4158325195312,
        836.9385375976562
      ],
      "color": "#b58b2a",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 4,
      "title": "Step 2 - Global Settings (Load reference image and video, configure settings)",
      "bounding": [
        -1470.2213134765625,
        -246.3541259765625,
        1801.200927734375,
        1080.3292236328125
      ],
      "color": "#ff5900",
      "font_size": 36,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Sampling",
      "bounding": [
        357.4786376953125,
        439.1949157714844,
        2381.569580078125,
        976.7266845703125
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Video Size and length",
      "bounding": [
        -1439.8939208984375,
        275.98919677734375,
        599.3761596679688,
        518.488525390625
      ],
      "color": "#88A",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Step 3 - Video Masking",
      "bounding": [
        -1470.1734619140625,
        843.8516235351562,
        1800.74072265625,
        657.5932006835938
      ],
      "color": "#ff5900",
      "font_size": 36,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.9090909090909092,
      "offset": [
        1465.7031346561157,
        287.09354411614044
      ]
    },
    "groupNodes": {},
    "workspace_info": {
      "id": "hSBfPb8KVVUoyCyWT3oHM"
    },
    "node_versions": {
      "ComfyUI-Frame-Interpolation": "c336f7184cb1ac1243381e725fea1ad2c0a10c09",
      "ComfyUI-VideoHelperSuite": "8629188458dc6cb832f871ece3bd273507e8a766",
      "comfy-core": "0.3.15",
      "ComfyUI_essentials": "33ff89fd354d8ec3ab6affb605a79a931b445d99",
      "was-node-suite-comfyui": "2afeeeb7d17198cb5a84ed33c4634fe5d171d152",
      "ComfyLiterals": "bdddb08ca82d90d75d97b1d437a652e0284a32ac",
      "ComfyUI-Easy-Use": "123917da9adec0d2b0b5f817deefb9ac3ed464f1",
      "ComfyUI-Impact-Pack": "1ae7cae2df8cca06027edfa3a24512671239d6c4",
      "ComfyUI-WanVideoWrapper": "44c5944f7031949440315038e94ca3f46e80adb2",
      "cg-use-everywhere": "ce510b97d10e69d5fd0042e115ecd946890d2079"
    },
    "ue_links": [],
    "VHS_latentpreview": true,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "links_added_by_ue": [],
    "frontendVersion": "1.26.13"
  },
  "version": 0.4
}